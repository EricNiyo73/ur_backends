{"version":3,"file":"index.js","names":["require","_express","_interopRequireDefault","_mongoose","_dotenv","_morgan","_bodyParser","_cors","_userRoute","_newsRoute","_eventRoute","_AdminRoute","_bookUseRoute","_commentRoute","_subscribeRoute","_swaggerUiExpress","_swaggerJsdoc","obj","__esModule","default","dotenv","config","PORT","process","env","app","express","use","cors","morgan","json","bodyParser","urlencoded","extended","mongoose","Promise","global","set","connect","MONGO_URL","useNewUrlParser","useUnifiedTopology","then","console","log","catch","err","exit","listen","options","swaggerDefinition","openapi","info","title","version","description","components","securitySchemes","bearerAuth","type","scheme","name","in","bearerFormat","security","servers","url","apis","specs","swaggerJSDoc","userRoutes","newsRoute","eventRoute","admin","Comment","subscribe","bookUser","swaggerUI","serve","setup","get","req","res","message","_default","exports"],"sources":["../../src/index.js"],"sourcesContent":["import \"@babel/polyfill\";\nimport express from 'express';\nimport mongoose from 'mongoose';\nimport dotenv from 'dotenv';\nimport morgan from \"morgan\"\nimport bodyParser from 'body-parser';\nimport cors from \"cors\";\nimport userRoutes from './Route/userRoute';\nimport newsRoute from './Route/newsRoute';\nimport eventRoute from './Route/eventRoute';\nimport admin from './Route/AdminRoute';\nimport bookUser from './Route/bookUseRoute';\nimport Comment from \"./Route/commentRoute\";\nimport subscribe from \"./Route/subscribeRoute\";\nimport swaggerUI from \"swagger-ui-express\";\nimport  swaggerJSDoc from \"swagger-jsdoc\";\ndotenv.config();\nconst {PORT} = process.env;\nconst app = express();\napp.use(cors());\napp.use(morgan(\"dev\"));\napp.use(express.json());\napp.use(bodyParser.urlencoded({ extended: false }))\napp.use(bodyParser.json());\nmongoose.Promise = global.Promise;\nmongoose.set(\"strictQuery\",true);\nmongoose.connect(process.env.MONGO_URL,{\n    useNewUrlParser: true,\n    useUnifiedTopology: true\n}).then(() =>{\n    console.log(\"Succesfully connected to the database\");\n}).catch(err =>{\n    console.log('something went wrong',err);\n    process.exit();\n});\napp.listen(PORT,() =>{\n    console.log(`server is listening on port ${PORT}...`);\n})\n// =======================swagger docs==========================\nconst options = {\n    swaggerDefinition: {\n        openapi: '3.0.0',\n        info: {\n            title: 'API documentation',\n            version: '1.0.0',\n            description: `<h1>This is API  which deals with Events,News and Facilities booking in UR Huye Campus</h2>\n                            <h3>Authors</h3>\n                            <ol>\n                            <li><a href=\"https://github.com/EricNiyo73\">Mr Eric N</a></li>\n                            <li><a href=\"https://github.com/utiheba-happy-janvier\">Happy Janviere</a></li>\n                            </ol>`\n        },\n        components: {\n            securitySchemes: {\n                bearerAuth: {\n                    type: 'apiKey',\n                    scheme: 'bearer',\n                    name: 'Authorization',\n                    in: 'header',\n                    bearerFormat: 'JWT',\n                }\n            }\n        },\n        security: [{\n            bearerAuth: []\n        }],\n        servers: [{\n            url: 'https://urbackend.onrender.com'\n        }]\n      \n    },\n    apis: ['./src/Docs/*.js'],\n}\nconst specs = swaggerJSDoc(options)\n\n// routes\napp.use('/user',userRoutes);\napp.use('/news',newsRoute);\napp.use('/events',eventRoute);\napp.use('/admin',admin);\napp.use('/comment',Comment);\napp.use('/subscribe',subscribe);\napp.use('/userbooking',bookUser);\napp.use('/docsdocs', swaggerUI.serve, swaggerUI.setup(specs));\napp.get('/', (req, res) => {\n    return res.json({message: \"Welcome  I am testing again\"});\n });\n export default app;"],"mappings":"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"}