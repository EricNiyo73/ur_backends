{"version":3,"file":"index.js","names":["require","_express","_interopRequireDefault","_mongoose","_dotenv","_bodyParser","_cors","_userRoute","_newsRoute","_eventRoute","_AdminRoute","_bookUseRoute","_swaggerUiExpress","_swaggerJsdoc","obj","__esModule","default","dotenv","config","PORT","process","env","app","express","use","cors","json","bodyParser","urlencoded","extended","mongoose","Promise","global","set","connect","MONGO_URL","useNewUrlParser","useUnifiedTopology","then","console","log","catch","err","exit","listen","options","swaggerDefinition","openapi","info","title","version","description","components","securitySchemes","bearerAuth","type","scheme","name","in","bearerFormat","security","servers","url","apis","specs","swaggerJSDoc","userRoutes","newsRoute","eventRoute","admin","bookUser","swaggerUI","serve","setup","get","req","res","message","_default","exports"],"sources":["../../src/index.js"],"sourcesContent":["import \"@babel/polyfill\";\r\nimport express from 'express';\r\nimport mongoose from 'mongoose';\r\nimport dotenv from 'dotenv';\r\nimport bodyParser from 'body-parser';\r\nimport cors from \"cors\";\r\nimport userRoutes from './Route/userRoute';\r\nimport newsRoute from './Route/newsRoute';\r\nimport eventRoute from './Route/eventRoute';\r\nimport admin from './Route/AdminRoute';\r\nimport bookUser from './Route/bookUseRoute';\r\nimport swaggerUI from \"swagger-ui-express\";\r\nimport  swaggerJSDoc from \"swagger-jsdoc\";\r\ndotenv.config();\r\nconst {PORT} = process.env;\r\nconst app = express();\r\napp.use(cors());\r\napp.use(express.json());\r\napp.use(bodyParser.urlencoded({ extended: false }))\r\napp.use(bodyParser.json());\r\nmongoose.Promise = global.Promise;\r\nmongoose.set(\"strictQuery\",true);\r\nmongoose.connect(process.env.MONGO_URL,{\r\n    useNewUrlParser: true,\r\n    useUnifiedTopology: true\r\n}).then(() =>{\r\n    console.log(\"Succesfully connected to the database\");\r\n}).catch(err =>{\r\n    console.log('something went wrong',err);\r\n    process.exit();\r\n});\r\napp.listen(PORT,() =>{\r\n    console.log(`server is listening on port ${PORT}...`);\r\n})\r\n// =======================swagger docs==========================\r\nconst options = {\r\n    swaggerDefinition: {\r\n        openapi: '3.0.0',\r\n        info: {\r\n            title: 'API documentation',\r\n            version: '1.0.0',\r\n            description: `<h1>This is API  which deals with Events,News and Facilities booking in UR Huye Campus</h2>\r\n                            <h3>Authors</h3>\r\n                            <ol>\r\n                            <li><a href=\"https://github.com/EricNiyo73\">Mr Eric N</a></li>\r\n                            <li><a href=\"https://github.com/utiheba-happy-janvier\">Happy Janviere</a></li>\r\n                            </ol>`\r\n        },\r\n        components: {\r\n            securitySchemes: {\r\n                bearerAuth: {\r\n                    type: 'apiKey',\r\n                    scheme: 'bearer',\r\n                    name: 'Authorization',\r\n                    in: 'header',\r\n                    bearerFormat: 'JWT',\r\n                }\r\n            }\r\n        },\r\n        security: [{\r\n            bearerAuth: []\r\n        }],\r\n        servers: [{\r\n            url: 'http://localhost:4000'\r\n        }]\r\n      \r\n    },\r\n    apis: ['./src/Docs/*.js'],\r\n}\r\nconst specs = swaggerJSDoc(options)\r\n\r\n// routes\r\napp.use('/user',userRoutes);\r\napp.use('/news',newsRoute);\r\napp.use('/events',eventRoute);\r\napp.use('/admin',admin);\r\napp.use('/userbooking',bookUser);\r\napp.use('/docsdocs', swaggerUI.serve, swaggerUI.setup(specs));\r\napp.get('/', (req, res) => {\r\n    return res.json({message: \"Welcome  I am testing again\"});\r\n });\r\n export default app;"],"mappings":"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"}