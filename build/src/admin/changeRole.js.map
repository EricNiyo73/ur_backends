{"version":3,"file":"changeRole.js","names":["_userModel","_interopRequireDefault","require","obj","__esModule","default","userRole","req","res","roles","User","findById","params","id","role","json","message","body","save","status","error","console","exports"],"sources":["../../../src/admin/changeRole.js"],"sourcesContent":["import User from '../model/userModel.js';\n\nexport const userRole= async (req, res) => {\n    try {\n      const roles = await User.findById(req.params.id);\n      if (!roles) {\n        return res.role(404).json({ message: ' request not found' });\n      }\n      if (req.body.role === 'leader') {\n        roles.role = req.body.role;\n        await roles.save();\n        res.json({ message: 'your usertype updated successfully' });\n\n      }\n      \n      else if (req.body.role === 'admin'){\n        roles.role = req.body.role;\n        await roles.save();\n        res.json({ message: 'Now you are an Admin' });\n      }\n      else if (req.body.role === 'user'){\n        roles.role = req.body.role;\n        await roles.save();\n        res.json({ message: 'still a normal user' });\n      }\n      else {\n        res.status(400).json({ message: 'Invalid  request role' });\n      }\n    } catch (error) {\n      console.error(error);\n      res.status(500).json({ message: 'Failed to update  request' });\n    }\n  };"],"mappings":";;;;;;AAAA,IAAAA,UAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAyC,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAElC,MAAMG,QAAQ,GAAE,MAAAA,CAAOC,GAAG,EAAEC,GAAG,KAAK;EACvC,IAAI;IACF,MAAMC,KAAK,GAAG,MAAMC,kBAAI,CAACC,QAAQ,CAACJ,GAAG,CAACK,MAAM,CAACC,EAAE,CAAC;IAChD,IAAI,CAACJ,KAAK,EAAE;MACV,OAAOD,GAAG,CAACM,IAAI,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAAEC,OAAO,EAAE;MAAqB,CAAC,CAAC;IAC9D;IACA,IAAIT,GAAG,CAACU,IAAI,CAACH,IAAI,KAAK,QAAQ,EAAE;MAC9BL,KAAK,CAACK,IAAI,GAAGP,GAAG,CAACU,IAAI,CAACH,IAAI;MAC1B,MAAML,KAAK,CAACS,IAAI,EAAE;MAClBV,GAAG,CAACO,IAAI,CAAC;QAAEC,OAAO,EAAE;MAAqC,CAAC,CAAC;IAE7D,CAAC,MAEI,IAAIT,GAAG,CAACU,IAAI,CAACH,IAAI,KAAK,OAAO,EAAC;MACjCL,KAAK,CAACK,IAAI,GAAGP,GAAG,CAACU,IAAI,CAACH,IAAI;MAC1B,MAAML,KAAK,CAACS,IAAI,EAAE;MAClBV,GAAG,CAACO,IAAI,CAAC;QAAEC,OAAO,EAAE;MAAuB,CAAC,CAAC;IAC/C,CAAC,MACI,IAAIT,GAAG,CAACU,IAAI,CAACH,IAAI,KAAK,MAAM,EAAC;MAChCL,KAAK,CAACK,IAAI,GAAGP,GAAG,CAACU,IAAI,CAACH,IAAI;MAC1B,MAAML,KAAK,CAACS,IAAI,EAAE;MAClBV,GAAG,CAACO,IAAI,CAAC;QAAEC,OAAO,EAAE;MAAsB,CAAC,CAAC;IAC9C,CAAC,MACI;MACHR,GAAG,CAACW,MAAM,CAAC,GAAG,CAAC,CAACJ,IAAI,CAAC;QAAEC,OAAO,EAAE;MAAwB,CAAC,CAAC;IAC5D;EACF,CAAC,CAAC,OAAOI,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;IACpBZ,GAAG,CAACW,MAAM,CAAC,GAAG,CAAC,CAACJ,IAAI,CAAC;MAAEC,OAAO,EAAE;IAA4B,CAAC,CAAC;EAChE;AACF,CAAC;AAACM,OAAA,CAAAhB,QAAA,GAAAA,QAAA"}