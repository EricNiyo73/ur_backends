{"version":3,"file":"changeRole.js","names":["_userModel","_interopRequireDefault","require","obj","__esModule","default","userRole","req","res","roles","User","findById","params","id","role","json","message","body","save","status","error","console","exports"],"sources":["../../../src/admin/changeRole.js"],"sourcesContent":["import User from '../model/userModel.js';\r\n\r\nexport const userRole= async (req, res) => {\r\n    try {\r\n      const roles = await User.findById(req.params.id);\r\n      if (!roles) {\r\n        return res.role(404).json({ message: ' request not found' });\r\n      }\r\n      if (req.body.role === 'leader') {\r\n        roles.role = req.body.role;\r\n        await roles.save();\r\n        res.json({ message: 'your usertype updated successfully' });\r\n\r\n      } else if (req.body.role === 'user'){\r\n        roles.role = req.body.role;\r\n        await roles.save();\r\n        res.json({ message: 'still a normal user' });\r\n      }\r\n      else {\r\n        res.status(400).json({ message: 'Invalid  request role' });\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n      res.status(500).json({ message: 'Failed to update  request' });\r\n    }\r\n  };"],"mappings":";;;;;;AAAA,IAAAA,UAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAyC,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAElC,MAAMG,QAAQ,GAAE,MAAAA,CAAOC,GAAG,EAAEC,GAAG,KAAK;EACvC,IAAI;IACF,MAAMC,KAAK,GAAG,MAAMC,kBAAI,CAACC,QAAQ,CAACJ,GAAG,CAACK,MAAM,CAACC,EAAE,CAAC;IAChD,IAAI,CAACJ,KAAK,EAAE;MACV,OAAOD,GAAG,CAACM,IAAI,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAAEC,OAAO,EAAE;MAAqB,CAAC,CAAC;IAC9D;IACA,IAAIT,GAAG,CAACU,IAAI,CAACH,IAAI,KAAK,QAAQ,EAAE;MAC9BL,KAAK,CAACK,IAAI,GAAGP,GAAG,CAACU,IAAI,CAACH,IAAI;MAC1B,MAAML,KAAK,CAACS,IAAI,EAAE;MAClBV,GAAG,CAACO,IAAI,CAAC;QAAEC,OAAO,EAAE;MAAqC,CAAC,CAAC;IAE7D,CAAC,MAAM,IAAIT,GAAG,CAACU,IAAI,CAACH,IAAI,KAAK,MAAM,EAAC;MAClCL,KAAK,CAACK,IAAI,GAAGP,GAAG,CAACU,IAAI,CAACH,IAAI;MAC1B,MAAML,KAAK,CAACS,IAAI,EAAE;MAClBV,GAAG,CAACO,IAAI,CAAC;QAAEC,OAAO,EAAE;MAAsB,CAAC,CAAC;IAC9C,CAAC,MACI;MACHR,GAAG,CAACW,MAAM,CAAC,GAAG,CAAC,CAACJ,IAAI,CAAC;QAAEC,OAAO,EAAE;MAAwB,CAAC,CAAC;IAC5D;EACF,CAAC,CAAC,OAAOI,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;IACpBZ,GAAG,CAACW,MAAM,CAAC,GAAG,CAAC,CAACJ,IAAI,CAAC;MAAEC,OAAO,EAAE;IAA4B,CAAC,CAAC;EAChE;AACF,CAAC;AAACM,OAAA,CAAAhB,QAAA,GAAAA,QAAA"}